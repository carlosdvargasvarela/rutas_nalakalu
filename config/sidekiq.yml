# config/sidekiq.yml
:concurrency: 5
:queues:
  - default
  - mailers
  - low

:schedule:
  # Envío diario de correos sobre entregas pendientes de confirmar para la próxima semana
  # Se ejecuta todos los días a las 00:01 hora Costa Rica
  next_week_pending_confirmations_daily:
    cron: "1 0 * * *"
    class: NextWeekPendingConfirmationsJob
    queue: default
    description: "Envía correos diarios a sellers y admins con entregas pendientes de confirmar para la próxima semana"
    rails_timezone: "America/Costa_Rica"

  # Informes gerenciales semanales
  # Se ejecuta todos los martes a las 07:00 hora Costa Rica
  weekly_admin_reports:
    cron: "0 7 * * 2"
    class: WeeklyAdminReportsJob
    queue: default
    description: "Genera y envía informes semanales de entregas no confirmadas y errores en direcciones"
    rails_timezone: "America/Costa_Rica"


# Informe para vendedores: errores de dirección en sus entregas de la semana actual
# Lunes 07:10 hora Costa Rica
seller_address_errors_current_week:
  cron: "10 7 * * 1"
  class: SellerAddressErrorsCurrentWeekJob
  queue: default
  description: "Envía a cada vendedor un informe de errores de dirección en sus entregas de la semana actual"
  rails_timezone: "America/Costa_Rica"

# Informe para vendedores: errores de dirección en sus entregas de la semana siguiente
# Lunes 07:20 hora Costa Rica
seller_address_errors_next_week:
  cron: "20 7 * * 1"
  class: SellerAddressErrorsNextWeekJob
  queue: default
  description: "Envía a cada vendedor un informe de errores de dirección en sus entregas de la semana siguiente"
  rails_timezone: "America/Costa_Rica"