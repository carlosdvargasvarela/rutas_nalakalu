// Estilos para la página de detalles de entrega (show)
// Aplicando Brand Kit Na Lakalú

// Textura de fondo artesanal
body[class*="deliveries"][class*="show"],
.deliveries.show {
  background: $nalakalu-warm-white;
  
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h100v100H0z' fill='%23FFF7EE'/%3E%3Cpath d='M10 10l5 5-5 5m20-10l5 5-5 5m20-10l5 5-5 5' stroke='%23E2D2B9' stroke-width='0.5' fill='none' opacity='0.1'/%3E%3C/svg%3E");
    background-size: 100px 100px;
    opacity: 0.4;
    pointer-events: none;
    z-index: -1;
  }
}

// Header de la entrega
.delivery-show-header {
  background: linear-gradient(135deg, $nalakalu-beige 0%, $nalakalu-pale-rose 100%);
  border-radius: $radius-xl;
  padding: $space-lg;
  margin-bottom: $space-lg;
  box-shadow: $shadow-medium;
  animation: fadeInLeft 0.5s ease-out;
  position: relative;
  overflow: hidden;

  // Textura de madera sutil
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 50h200M0 100h200M0 150h200' stroke='%233D342C' stroke-width='1' opacity='0.05'/%3E%3C/svg%3E");
    background-size: 200px 200px;
    pointer-events: none;
  }

  h1 {
    color: $nalakalu-dark-coffee;
    margin-bottom: 0;
    font-family: $font-heading;
    font-weight: 300;
    position: relative;
    z-index: 1;
    
    .text-primary {
      color: $nalakalu-craft-orange !important;
      font-family: $font-data;
    }

    i.bi-truck {
      color: $nalakalu-craft-orange;
    }
  }

  .badge {
    font-size: 0.9rem;
    padding: 0.5rem 1rem;
    border-radius: $radius-md;
    font-family: $font-body;
  }

  .btn-outline-secondary {
    border-color: $nalakalu-dark-coffee;
    color: $nalakalu-dark-coffee;
    background: $nalakalu-warm-white;
    font-family: $font-body;
    border-radius: $radius-md;
    
    &:hover {
      background: $nalakalu-dark-coffee;
      color: $nalakalu-warm-white;
      transform: translateY(-2px);
      box-shadow: $shadow-soft;
    }
  }
}

// Cards de resumen
.delivery-summary-card {
  border: none;
  border-radius: $radius-xl;
  background: linear-gradient(135deg, $nalakalu-warm-white 0%, lighten($nalakalu-beige, 5%) 100%);
  box-shadow: $shadow-soft;
  transition: $transition-normal;
  animation: fadeInRight 0.5s ease-out both;
  overflow: hidden;
  border: 1px solid rgba($nalakalu-beige, 0.5);

  @include staggered-animation-delay(4, 0.1s, 0.05s);

  .card-header {
    background: linear-gradient(135deg, $nalakalu-pale-rose 0%, darken($nalakalu-pale-rose, 5%) 100%);
    color: $nalakalu-dark-coffee;
    font-weight: 400;
    font-family: $font-heading;
    border: none;
    padding: $space-md;
    border-bottom: 3px solid $nalakalu-craft-orange;
    position: relative;

    // Línea decorativa
    &::after {
      content: '';
      position: absolute;
      bottom: -3px;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, $nalakalu-craft-orange 0%, transparent 100%);
    }

    i {
      color: $nalakalu-craft-orange;
      font-size: 1.1rem;
    }
  }

  .card-body {
    padding: $space-md;
    background: $nalakalu-warm-white;

    p {
      margin-bottom: $space-sm;
      color: $nalakalu-dark-coffee;
      font-family: $font-body;
      line-height: 1.6;
      
      strong {
        color: $nalakalu-dark-coffee;
        font-weight: 400;
      }
      
      i {
        color: $nalakalu-craft-orange;
      }
    }

    a {
      color: $nalakalu-craft-orange;
      text-decoration: none;
      transition: $transition-fast;
      font-weight: 400;
      border-bottom: 1px solid transparent;
      
      &:hover {
        color: darken($nalakalu-craft-orange, 10%);
        border-bottom-color: $nalakalu-craft-orange;
      }
    }

    .badge {
      font-family: $font-body;
      border-radius: $radius-sm;
    }

    .list-group-item {
      background: rgba($nalakalu-beige, 0.2);
      border: 1px solid rgba($nalakalu-pale-rose, 0.3);
      margin-bottom: 0.5rem;
      border-radius: $radius-sm;
      transition: $transition-fast;

      &:hover {
        background: rgba($nalakalu-pale-rose, 0.3);
        transform: translateX(3px);
      }
    }
  }

  &:hover {
    transform: translateY(-5px);
    box-shadow: $shadow-strong;
  }
}

// Mapa
.delivery-map-container {
  border-radius: $radius-xl;
  overflow: hidden;
  box-shadow: $shadow-medium;
  margin-bottom: $space-lg;
  animation: fadeIn 0.5s ease-out 0.2s both;
  border: 1px solid rgba($nalakalu-beige, 0.5);
  background: linear-gradient(135deg, $nalakalu-warm-white 0%, lighten($nalakalu-beige, 5%) 100%);

  .card-header {
    background: linear-gradient(135deg, $nalakalu-laurel-green 0%, darken($nalakalu-laurel-green, 5%) 100%);
    color: $nalakalu-warm-white;
    font-weight: 400;
    font-family: $font-heading;
    border: none;
    padding: $space-md;

    i {
      color: $nalakalu-warm-white;
      font-size: 1.1rem;
    }
  }

  .card-body {
    background: $nalakalu-warm-white;
    padding: $space-md;
  }

  #delivery-map {
    border-radius: $radius-md;
  }

  .alert-info {
    background: linear-gradient(135deg, rgba($nalakalu-beige, 0.5) 0%, rgba($nalakalu-pale-rose, 0.3) 100%);
    border: 2px dashed $nalakalu-pale-rose;
    color: $nalakalu-dark-coffee;
    border-radius: $radius-md;
    
    i {
      color: $nalakalu-craft-orange;
    }
  }
}

// Productos en la entrega
.delivery-products-card {
  border: none;
  border-radius: $radius-xl;
  background: linear-gradient(135deg, $nalakalu-warm-white 0%, lighten($nalakalu-beige, 5%) 100%);
  box-shadow: $shadow-soft;
  animation: fadeIn 0.5s ease-out 0.3s both;
  border: 1px solid rgba($nalakalu-beige, 0.5);

  .sticky-top {
    background: linear-gradient(135deg, $nalakalu-pale-rose 0%, darken($nalakalu-pale-rose, 3%) 100%) !important;
    border-radius: $radius-xl $radius-xl 0 0;
    padding: $space-md !important;
    color: $nalakalu-dark-coffee;
    font-weight: 400;
    font-family: $font-heading;
    border-bottom: 3px solid $nalakalu-craft-orange !important;
    position: relative;

    // Línea decorativa
    &::after {
      content: '';
      position: absolute;
      bottom: -3px;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, $nalakalu-craft-orange 0%, transparent 100%);
    }

    i {
      color: $nalakalu-craft-orange;
    }

    .btn {
      border-radius: $radius-md;
      font-weight: 400;
      font-family: $font-body;
      transition: $transition-normal;

      &.btn-outline-primary,
      &.btn-sm.btn-outline-primary {
        border-color: $nalakalu-craft-orange;
        color: $nalakalu-craft-orange;
        background: $nalakalu-warm-white;

        &:hover {
          background: $nalakalu-craft-orange;
          color: $nalakalu-warm-white;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba($nalakalu-craft-orange, 0.3);
        }
      }

      &.btn-success,
      &.btn-sm.btn-success {
        background: $nalakalu-laurel-green;
        border-color: $nalakalu-laurel-green;
        color: $nalakalu-warm-white;

        &:hover {
          background: darken($nalakalu-laurel-green, 10%);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba($nalakalu-laurel-green, 0.3);
        }
      }

      &.btn-warning,
      &.btn-sm.btn-warning {
        background: $nalakalu-craft-orange;
        border-color: $nalakalu-craft-orange;
        color: $nalakalu-warm-white;

        &:hover {
          background: darken($nalakalu-craft-orange, 10%);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba($nalakalu-craft-orange, 0.3);
        }
      }

      &.btn-primary,
      &.btn-sm.btn-primary {
        background: $nalakalu-dark-coffee;
        border-color: $nalakalu-dark-coffee;
        color: $nalakalu-warm-white;

        &:hover {
          background: lighten($nalakalu-dark-coffee, 10%);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba($nalakalu-dark-coffee, 0.3);
        }
      }

      &.btn-outline-secondary,
      &.btn-sm.btn-outline-secondary {
        border-color: $nalakalu-dark-coffee;
        color: $nalakalu-dark-coffee;
        background: $nalakalu-warm-white;

        &:hover {
          background: $nalakalu-dark-coffee;
          color: $nalakalu-warm-white;
          transform: translateY(-2px);
        }
      }
    }
  }

  .card-body {
    background: $nalakalu-warm-white;
    padding: $space-md;
  }

  .alert-info {
    background: linear-gradient(135deg, rgba($nalakalu-beige, 0.5) 0%, rgba($nalakalu-pale-rose, 0.3) 100%);
    border: 2px solid $nalakalu-pale-rose;
    color: $nalakalu-dark-coffee;
    border-radius: $radius-md;
    
    i {
      color: $nalakalu-craft-orange;
    }
  }
}

// Product cards individuales
.product-card-item {
  border: none;
  border-radius: $radius-md;
  background: $nalakalu-warm-white;
  border-left: 4px solid $nalakalu-craft-orange;
  box-shadow: $shadow-soft;
  transition: $transition-normal;
  margin-bottom: $space-md;

  &:hover {
    transform: translateX(5px);
    box-shadow: $shadow-medium;
    border-left-color: $nalakalu-laurel-green;
  }

  .badge {
    border-radius: $radius-sm;
    padding: 0.4rem 0.8rem;
    font-family: $font-body;
  }
}

// Tabla de productos
.delivery-products-table {
  background: $nalakalu-warm-white;
  border-radius: $radius-md;
  overflow: hidden;

  thead {
    background: linear-gradient(135deg, $nalakalu-beige 0%, $nalakalu-pale-rose 100%);
    color: $nalakalu-dark-coffee;
    font-weight: 400;
    font-family: $font-heading;

    th {
      border: none;
      padding: $space-md;
      
      i {
        color: $nalakalu-craft-orange;
      }
    }
  }

  tbody {
    tr {
      transition: $transition-fast;
      border-bottom: 1px solid rgba($nalakalu-pale-rose, 0.3);

      &:hover {
        background: linear-gradient(90deg, rgba($nalakalu-beige, 0.3) 0%, transparent 100%);
        transform: translateX(3px);
      }

      td {
        padding: $space-md;
        vertical-align: middle;
        color: $nalakalu-dark-coffee;
        font-family: $font-body;
      }
    }
  }
}

// Historial
.delivery-history-card {
  border: none;
  border-radius: $radius-xl;
  background: linear-gradient(135deg, $nalakalu-warm-white 0%, lighten($nalakalu-beige, 5%) 100%);
  box-shadow: $shadow-soft;
  animation: fadeIn 0.5s ease-out 0.4s both;
  border: 1px solid rgba($nalakalu-beige, 0.5);

  .card-header {
    background: linear-gradient(135deg, $nalakalu-dark-coffee 0%, lighten($nalakalu-dark-coffee, 5%) 100%);
    color: $nalakalu-warm-white;
    font-weight: 400;
    font-family: $font-heading;
    border: none;
    padding: $space-md;

    i {
      color: $nalakalu-craft-orange;
      font-size: 1.1rem;
    }
  }

  .card-body {
    background: $nalakalu-warm-white;
    padding: $space-md;
  }

  .accordion-item {
    border: 1px solid rgba($nalakalu-beige, 0.5);
    border-radius: $radius-md;
    margin-bottom: $space-sm;
    overflow: hidden;

    .accordion-button {
      background: linear-gradient(135deg, rgba($nalakalu-beige, 0.5) 0%, rgba($nalakalu-pale-rose, 0.3) 100%);
      color: $nalakalu-dark-coffee;
      font-family: $font-body;
      font-weight: 400;
      border: none;

      &:not(.collapsed) {
        background: linear-gradient(135deg, $nalakalu-pale-rose 0%, darken($nalakalu-pale-rose, 5%) 100%);
        color: $nalakalu-dark-coffee;
        box-shadow: none;
      }

      &:focus {
        box-shadow: none;
        border: none;
      }
    }

    .accordion-body {
      background: $nalakalu-warm-white;
      padding: $space-md;
    }
  }

  .list-group-item {
    background: $nalakalu-warm-white;
    border: 1px solid rgba($nalakalu-pale-rose, 0.3);
    border-left: 3px solid transparent;
    margin-bottom: 0.5rem;
    border-radius: $radius-sm;
    transition: $transition-normal;
    font-family: $font-body;

    &:hover {
      border-left-color: $nalakalu-craft-orange;
      background: linear-gradient(90deg, rgba($nalakalu-pale-rose, 0.2) 0%, transparent 100%);
      transform: translateX(5px);
    }

    .badge {
      border-radius: $radius-sm;
      padding: 0.4rem 0.8rem;
    }
  }
}

// Botón volver
.btn-back-deliveries {
  background: $nalakalu-dark-coffee;
  border-color: $nalakalu-dark-coffee;
  color: $nalakalu-warm-white;
  border-radius: $radius-md;
  padding: $space-sm $space-lg;
  font-weight: 400;
  font-family: $font-body;
  transition: $transition-normal;
  box-shadow: $shadow-soft;

  i {
    transition: $transition-fast;
  }

  &:hover {
    background: lighten($nalakalu-dark-coffee, 10%);
    border-color: lighten($nalakalu-dark-coffee, 10%);
    color: $nalakalu-warm-white;
    transform: translateY(-3px);
    box-shadow: $shadow-medium;

    i {
      transform: translateX(-5px);
    }
  }
}

// Badges de estado personalizados
.badge {
  &.bg-primary {
    background: $nalakalu-dark-coffee !important;
  }

  &.bg-success {
    background: $nalakalu-laurel-green !important;
  }

  &.bg-warning {
    background: $nalakalu-craft-orange !important;
    color: $nalakalu-warm-white !important;
  }

  &.bg-danger {
    background: darken($nalakalu-craft-orange, 15%) !important;
  }

  &.bg-info {
    background: $nalakalu-pale-rose !important;
    color: $nalakalu-dark-coffee !important;
  }

  &.bg-secondary {
    background: lighten($nalakalu-dark-coffee, 20%) !important;
  }
}

// Responsive
@media (max-width: 768px) {
  .delivery-show-header {
    h1 {
      font-size: 1.5rem;
    }
  }

  .delivery-summary-card {
    animation: fadeIn 0.4s ease-out both;
  }

  .delivery-products-card .sticky-top {
    .btn {
      font-size: 0.85rem;
      padding: 0.4rem 0.7rem;
    }
  }
}
