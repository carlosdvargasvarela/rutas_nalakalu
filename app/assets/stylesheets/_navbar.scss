// Navbar - Diseño NaLakalú
#mainNavbar, .navbar#mainNavbar, .navbar.navbar-expand-lg#mainNavbar, .navbar-light#mainNavbar, .navbar-dark#mainNavbar, .bg-transparent#mainNavbar, .bg-light#mainNavbar, .bg-dark#mainNavbar {
  --bs-navbar-color: #{$nalakalu-warm-white};
  --bs-navbar-hover-color: #{$nalakalu-craft-orange};
  --bs-navbar-active-color: #{$nalakalu-craft-orange};
  --bs-navbar-brand-color: #{$nalakalu-warm-white};
  --bs-navbar-brand-hover-color: #{$nalakalu-craft-orange};
  background: $nalakalu-dark-coffee !important;
  background-color: $nalakalu-dark-coffee !important;
  background-image: none !important;
  box-shadow: 0 2px 12px rgba(61, 52, 44, 0.15) !important;
  color: $nalakalu-warm-white !important;
  z-index: 1030;
}

#mainNavbar {
  .navbar-brand {
    color: $nalakalu-warm-white !important;
    font-weight: 400;
    transition: $transition-normal;
    backface-visibility: hidden;
    transform: translateZ(0);
    
    &:hover {
      color: $nalakalu-craft-orange !important;
      transform: translateY(-2px) translateZ(0);
      i { color: $nalakalu-craft-orange; }
    }
    
    i { 
      color: $nalakalu-warm-white; 
      transition: $transition-normal;
      backface-visibility: hidden;
    }
    
    .navbar-logo {
      height: 56px;
      width: auto;
      transition: $transition-normal;
      filter: brightness(0) invert(1);
      backface-visibility: hidden;
      transform: translateZ(0);
      
      &:hover {
        filter: brightness(0) saturate(100%) invert(48%) sepia(75%) saturate(684%) hue-rotate(348deg) brightness(92%) contrast(88%);
        transform: scale(1.05) translateZ(0);
      }
    }
  }

  .nav-link {
    color: $nalakalu-warm-white !important;
    transition: $transition-normal;
    position: relative;
    font-weight: 400;
    backface-visibility: hidden;
    transform: translateZ(0);
    
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%) translateZ(0);
      width: 0;
      height: 2px;
      background: $nalakalu-craft-orange;
      transition: $transition-normal;
    }
    
    &:hover, &.active {
      color: $nalakalu-craft-orange !important;
      &::after { width: 80%; }
      i { color: $nalakalu-craft-orange; }
    }
    
    i { 
      color: $nalakalu-warm-white; 
      transition: $transition-normal;
      backface-visibility: hidden;
    }
  }

  .dropdown-menu {
    background: $nalakalu-dark-coffee;
    border: 1px solid rgba(255, 247, 238, 0.1);
    box-shadow: 0 4px 16px rgba(61, 52, 44, 0.2);
    
    .dropdown-item {
      color: $nalakalu-warm-white;
      transition: $transition-normal;
      backface-visibility: hidden;
      transform: translateZ(0);
      
      &:hover, &:active { 
        background: rgba(165, 78, 30, 0.2); 
        color: $nalakalu-craft-orange; 
      }
    }
    .dropdown-divider { border-color: rgba(255, 247, 238, 0.1); }
  }

  .navbar-toggler {
    border-color: rgba(255, 247, 238, 0.3);
    &:focus { box-shadow: 0 0 0 0.2rem rgba(255, 247, 238, 0.25); }
    .navbar-toggler-icon {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 247, 238, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    }
  }

  .badge { background: $nalakalu-craft-orange !important; color: white !important; }
  .navbar-text { color: $nalakalu-warm-white !important; }
}

@media (max-width: 991.98px) {
  #mainNavbar {
    .navbar-collapse {
      background: $nalakalu-dark-coffee;
      padding: 1rem;
      border-radius: $radius-sm;
      margin-top: 1rem;
    }
    .nav-link {
      padding: 0.75rem 1rem;
      border-radius: $radius-sm;
      &::after { display: none; }
      &:hover, &.active { background: rgba(165, 78, 30, 0.2); }
    }
  }
}
