@import 'brand_variables';
@import 'brand_utilities';
@import 'mixins';
@import 'animations';
@import 'dashboard_badges';
@import 'dashboard_deliveries';

// Base
body {
  background-color: $nalakalu-warm-white;
  font-family: $font-body;
  color: $nalakalu-dark-coffee;
}

h1, h2, h3, h4, h5, h6, .heading {
  font-family: $font-heading;
  font-weight: 300;
  color: $nalakalu-dark-coffee;
}

.display-1, .display-2, .display-3, .display-4, .display-5, .display-6, .metric, .kpi-value, .stat-number {
  font-family: $font-data;
  font-weight: 700;
  letter-spacing: -0.02em;
}

// Componentes base
.dashboard-card {
  transition: transform 0.2s, box-shadow 0.2s;
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
  }
}

.dashboard-icon {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.progress-chart-placeholder, .empty-state {
  min-height: 200px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  animation: fadeInScale 0.6s ease-in;
}

.empty-icon {
  animation: bounce-soft 2s ease-in-out infinite;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
}

// Interacciones comunes
.task-item, .notification-item-mini {
  transition: all 0.2s ease;
  &:hover { background-color: #ffffff !important; }
}

.task-item {
  border: 1px solid transparent;
  &:hover { border-color: #dee2e6; }
}

.notification-text {
  line-height: 1.4;
  font-size: 0.9rem;
}

.delivery-btn-group .btn {
  @include box-shadow(0, 3px, 8px, rgba(0, 0, 0, 0.12));
  @include cubic-transition();
  &:hover {
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
  }
  &:active {
    transform: translateY(-1px) scale(1.02);
  }
}

// Header
.dashboard-header {
  background: linear-gradient(135deg, $nalakalu-beige 0%, $nalakalu-pale-rose 100%);
  border-radius: $radius-xl;
  padding: $space-xl;
  margin-bottom: $space-lg;
  box-shadow: $shadow-medium;
  animation: fadeInDown 0.6s ease-out;
  
  h2 { 
    color: $nalakalu-dark-coffee; 
    text-shadow: 0 2px 4px rgba(255, 247, 238, 0.5); 
  }
  
  .badge { 
    animation: pulse 2s infinite;
    background-color: $nalakalu-dark-coffee !important;
    color: $nalakalu-warm-white;
  }
  
  p {
    color: $nalakalu-dark-coffee;
    opacity: 0.8;
    &.fst-italic { font-size: 1.05rem; opacity: 0.7; }
  }
}

// Botones
.dashboard-action-btn, .btn {
  background: $nalakalu-craft-orange !important;
  border-color: $nalakalu-craft-orange !important;
  color: $nalakalu-warm-white !important;
  padding: 0.6rem 1.25rem;
  border-radius: $radius-md;
  transition: $transition-normal;
  box-shadow: $shadow-soft;
  font-family: $font-body;
  font-weight: 500;
  
  &:hover {
    background: darken($nalakalu-craft-orange, 8%) !important;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba($nalakalu-craft-orange, 0.3);
  }
  
  &:active { 
    transform: translateY(0); 
  }
  
  &.btn-outline-light, &.btn-outline-dark {
    background: $nalakalu-dark-coffee !important;
    border-color: $nalakalu-dark-coffee !important;
    
    &:hover {
      background: $nalakalu-pale-rose !important;
      color: $nalakalu-dark-coffee !important;
    }
  }
}

// KPI Cards
.kpi-card {
  border-radius: $radius-xl;
  border: none;
  background: $nalakalu-beige;
  box-shadow: $shadow-soft;
  transition: $transition-normal;
  animation: fadeInUp 0.6s ease-out both;
  
  @include staggered-animation-delay(8, 0s, 0.1s);
  
  &:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: $shadow-strong;
    
    .rounded-circle {
      background: darken($nalakalu-pale-rose, 5%) !important;
      transform: rotate(5deg) scale(1.1);
    }
  }
  
  .rounded-circle {
    background: $nalakalu-pale-rose !important;
    border: 3px solid darken($nalakalu-pale-rose, 8%);
    transition: $transition-normal;
    i { color: $nalakalu-warm-white; }
  }
  
  h6 {
    color: $nalakalu-dark-coffee;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 600;
    opacity: 0.8;
  }
  
  .display-5 { color: $nalakalu-dark-coffee; }
  
  &:has(.text-danger), &:has(.bg-danger) {
    .rounded-circle {
      background: lighten($nalakalu-craft-orange, 35%) !important;
      border-color: $nalakalu-craft-orange;
      i { color: $nalakalu-craft-orange; }
    }
    .display-5 { color: $nalakalu-craft-orange; }
  }
}

// Cards generales (consolidado)
.approval-card, .rescheduled-card, .unplanned-deliveries-card, 
.reschedule-notifications-card, .recent-notifications-card, 
.pending-tasks-card, .stats-card {
  border-radius: $radius-xl;
  border: none;
  box-shadow: $shadow-soft;
  background: $nalakalu-warm-white;
  transition: $transition-normal;
  
  &:hover {
    box-shadow: $shadow-medium;
    transform: translateY(-5px);
  }
  
  .card-header {
    background: linear-gradient(135deg, lighten($nalakalu-beige, 3%) 0%, $nalakalu-beige 100%);
    border: none;
    border-bottom: 2px solid $nalakalu-pale-rose;
    padding: $space-md $space-lg;
    
    h5 { color: $nalakalu-dark-coffee; }
    i { color: $nalakalu-craft-orange; }
    .badge { background: $nalakalu-dark-coffee !important; color: $nalakalu-warm-white; }
  }
}

// Estilos espec√≠ficos de approval-card
.approval-card {
  animation: fadeIn 0.8s ease-out;
  box-shadow: $shadow-medium;
  
  .card-header {
    background: linear-gradient(135deg, $nalakalu-pale-rose 0%, darken($nalakalu-pale-rose, 5%) 100%);
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, $nalakalu-craft-orange 0%, $nalakalu-laurel-green 100%);
    }
    
    .badge { animation: bounceIn 0.8s ease-out; }
  }
  
  .table {
    tr {
      transition: $transition-normal;
      &:hover {
        background: linear-gradient(90deg, rgba(137, 152, 123, 0.08) 0%, transparent 100%);
        transform: translateX(5px);
      }
    }
    
    &-light {
      background-color: lighten($nalakalu-beige, 8%);
      th { color: $nalakalu-dark-coffee; font-weight: 600; }
    }
  }
  
  a {
    color: $nalakalu-dark-coffee;
    font-weight: 500;
    &:hover { color: $nalakalu-craft-orange; }
  }
}

// Animaciones y hover effects
.rescheduled-card, .unplanned-deliveries-card { animation: fadeInUp 0.6s ease-out; }
.reschedule-notifications-card, .recent-notifications-card { animation: fadeInUp 0.7s ease-out 0.1s both; }
.pending-tasks-card { animation: fadeInUp 0.7s ease-out 0.2s both; }
.stats-card { animation: fadeInUp 0.8s ease-out; }

.rescheduled-card .table tbody tr { @include hover-border-left($nalakalu-laurel-green, rgba(137, 152, 123, 0.08)); }
.unplanned-deliveries-card .delivery-item-animated { @include hover-border-left($nalakalu-craft-orange, rgba(165, 78, 30, 0.08)); }
.reschedule-notifications-card .list-group-item { @include hover-border-left($nalakalu-craft-orange, rgba(165, 78, 30, 0.1)); }
.recent-notifications-card .list-group-item { @include hover-border-left($nalakalu-pale-rose, rgba(196, 157, 144, 0.1)); }

.pending-tasks-card .card-body li {
  transition: $transition-normal;
  padding: 0.75rem;
  border-radius: $radius-sm;
  margin-bottom: 0.5rem !important;
  
  &:hover {
    background: rgba(137, 152, 123, 0.08);
    transform: translateX(5px);
    box-shadow: 0 2px 10px rgba(137, 152, 123, 0.15);
    border-left: 3px solid $nalakalu-laurel-green;
  }
}

// Estados - simplificado
.badge-pending, .status-pending { background-color: $status-pending !important; }
.badge-active, .status-active { background-color: $status-active !important; }
.badge-overdue, .status-overdue { background-color: $status-overdue !important; }
.badge-completed, .status-completed { background-color: $status-completed !important; }

// Card headers con variantes
.card-header {
  &.bg-primary { background: $nalakalu-pale-rose !important; color: $nalakalu-dark-coffee !important; }
  &.bg-success { background: $nalakalu-laurel-green !important; }
  &.bg-warning, &.bg-info { background: $nalakalu-craft-orange !important; }
  &.bg-secondary { background: $nalakalu-beige !important; color: $nalakalu-dark-coffee !important; }
}

// Textura de fondo - optimizada
.container-fluid::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -1;
  opacity: 0.05;
  background-image: 
    repeating-linear-gradient(90deg, rgba(61, 52, 44, 0.08) 0px, transparent 1px, transparent 2px, rgba(61, 52, 44, 0.08) 3px),
    repeating-linear-gradient(45deg, transparent 0px, transparent 10px, rgba(165, 78, 30, 0.02) 10px, rgba(165, 78, 30, 0.02) 11px);
  pointer-events: none;
}

// Alert
.alert-dark {
  background: linear-gradient(135deg, $nalakalu-beige 0%, lighten($nalakalu-pale-rose, 5%) 100%) !important;
  border: 2px solid $nalakalu-pale-rose !important;
  color: $nalakalu-dark-coffee !important;
  box-shadow: $shadow-soft;
  transition: $transition-normal;
  
  i { color: $nalakalu-craft-orange; }
  a {
    color: $nalakalu-craft-orange !important;
    font-weight: 600;
    text-decoration: none !important;
    border-bottom: 2px solid transparent;
    transition: $transition-fast;
    &:hover { border-bottom-color: $nalakalu-craft-orange; }
  }
  &:hover { transform: translateY(-2px); box-shadow: $shadow-medium; }
}

// Mensaje inspirador
.inspirational-message {
  font-family: $font-heading;
  font-size: 1.1rem;
  color: $nalakalu-dark-coffee;
  opacity: 0.8;
  font-style: italic;
  text-align: center;
  padding: $space-md;
  margin: $space-lg 0;
  border-left: 4px solid $nalakalu-craft-orange;
  background: linear-gradient(90deg, rgba(165, 78, 30, 0.05) 0%, transparent 100%);
  border-radius: $radius-md;
}

// Responsive
@media (max-width: 768px) {
  .dashboard-icon { width: 60px; height: 60px; }
  .task-item {
    flex-direction: column;
    text-align: center;
    .task-action { margin-top: 0.5rem; }
  }
}
