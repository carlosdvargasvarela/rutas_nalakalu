<% completed = assignments.count(&:completed?) %>
<% en_route = assignments.count(&:en_route?) %>
<% pending = assignments.count(&:pending?) %>
<% total = assignments.count %>
<% percentage = total > 0 ? (completed.to_f / total * 100).round : 0 %>
<div class="mb-3">
  <div class="d-flex justify-content-between align-items-center mb-1">
    <span class="small fw-semibold">Progreso de entregas</span>
    <span class="small text-muted"><%= completed %> de <%= total %></span>
  </div>
  <div class="progress" style="height: 10px;">
    <div 
      class="progress-bar bg-success" 
      role="progressbar" 
      style="width: <%= percentage %>%"
      aria-valuenow="<%= percentage %>" 
      aria-valuemin="0" 
      aria-valuemax="100">
    </div>
  </div>
</div>
<div class="d-flex gap-3 small">
  <div>
    <i class="bi bi-check-circle-fill text-success me-1"></i>
    <span class="fw-semibold" data-progress="completed"><%= completed %></span> Completadas
  </div>
  <div>
    <i class="bi bi-hourglass-split text-warning me-1"></i>
    <span class="fw-semibold" data-progress="en_route"><%= en_route %></span> En ruta
  </div>
  <div>
    <i class="bi bi-circle text-secondary me-1"></i>
    <span class="fw-semibold" data-progress="pending"><%= pending %></span> Pendientes
  </div>
</div>