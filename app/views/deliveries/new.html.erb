<%# app/views/deliveries/new.html.erb %>
<% if flash[:alert] %>
  <div class="alert alert-danger">
    <i class="bi bi-exclamation-triangle me-2"></i>
    <%= flash[:alert] %>
  </div>
<% end %>
<% [@client, @order, @delivery, @address].compact.each do |obj| %>
  <% if obj&.errors&.any? %>
    <div class="alert alert-danger">
      <strong>Errores en <%= obj.class.name %>:</strong>
      <ul class="mb-0">
        <% obj.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
<% end %>
<div class="d-flex align-items-center mb-4">
  <i class="bi bi-truck me-2 fs-3 text-primary"></i>
  <h1 class="mb-0">Nueva entrega</h1>
</div>
<div class="card shadow-sm">
  <div class="card-body">
    <%= render "form", delivery: @delivery, clients: @clients, addresses: @addresses %>
  </div>
</div>