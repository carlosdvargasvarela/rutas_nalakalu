<!-- app/views/deliveries/_delivery_data.html.erb -->
<div class="col-md-8">
  <div class="card mb-4">
    <div class="card-header">
      <h5><i class="bi bi-truck"></i> Datos de la Entrega</h5>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <%= f.date_field :delivery_date, 
              label: "Fecha de entrega",
              as: :date,
              required: true,
              input_html: { class: "form-control" } %>
        </div>
        <div class="col-md-6">
          <%= f.input :delivery_type,
              label: "Tipo de entrega",
              collection: [
                ['Entrega normal', 'normal_delivery'], 
                ['Caso de servicio', 'service_case']
              ],
              input_html: { class: "form-select" } %>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <%= f.input :contact_name,
              label: "Nombre de contacto",
              input_html: { class: "form-control" } %>
        </div>
        <div class="col-md-6">
          <%= f.input :contact_phone,
              label: "Teléfono de contacto",
              input_html: { class: "form-control" } %>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <%= f.input :delivery_notes,
              label: "Notas de entrega",
              as: :text,
              input_html: { class: "form-control", rows: 3 } %>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <%= f.input :delivery_address_id,
              label: "Dirección de entrega",
              collection: addresses,
              value_method: :id,
              prompt: "Selecciona una dirección",
              required: true,
              input_html: { class: "form-select" } %>
        </div>
      </div>
      <%= render 'deliveries/partials/new_address_form', client: client %>
    </div>
  </div>
</div>
