<!-- app/views/dashboard/_summary_cards.html.erb -->
<div class="col-12 col-md-6 col-lg-3">
  <div class="card dashboard-card shadow-sm border-0 h-100">
    <div class="card-body d-flex flex-column align-items-center text-center">
      <div class="dashboard-icon bg-primary bg-opacity-10 rounded-circle p-3 mb-3">
        <i class="bi bi-truck fs-2 text-primary"></i>
      </div>
      <h6 class="card-title text-uppercase text-secondary mb-2">Entregas pendientes</h6>
      <p class="fw-bold fs-2 mb-3 text-primary"><%= @pending_deliveries_count || 0 %></p>
      <%= link_to "Ver entregas", deliveries_path, class: "btn btn-primary btn-sm mt-auto" %>
    </div>
  </div>
</div>
<div class="col-12 col-md-6 col-lg-3">
  <div class="card dashboard-card shadow-sm border-0 h-100">
    <div class="card-body d-flex flex-column align-items-center text-center">
      <div class="dashboard-icon bg-success bg-opacity-10 rounded-circle p-3 mb-3">
        <i class="bi bi-box-seam fs-2 text-success"></i>
      </div>
      <h6 class="card-title text-uppercase text-secondary mb-2">Pedidos activos</h6>
      <p class="fw-bold fs-2 mb-3 text-success"><%= @active_orders_count || 0 %></p>
      <%= link_to "Ver pedidos", orders_path, class: "btn btn-success btn-sm mt-auto" %>
    </div>
  </div>
</div>
<div class="col-12 col-md-6 col-lg-3">
  <div class="card dashboard-card shadow-sm border-0 h-100">
    <div class="card-body d-flex flex-column align-items-center text-center">
      <div class="dashboard-icon bg-info bg-opacity-10 rounded-circle p-3 mb-3">
        <i class="bi bi-calendar-check fs-2 text-info"></i>
      </div>
      <h6 class="card-title text-uppercase text-secondary mb-2">Pr√≥ximos planes</h6>
      <p class="fw-bold fs-2 mb-3 text-info"><%= @upcoming_plans_count || 0 %></p>
      <%= link_to "Ver planes", delivery_plans_path, class: "btn btn-info btn-sm mt-auto" %>
    </div>
  </div>
</div>
<div class="col-12 col-md-6 col-lg-3">
  <div class="card dashboard-card shadow-sm border-0 h-100">
    <div class="card-body d-flex flex-column align-items-center text-center">
      <div class="dashboard-icon bg-warning bg-opacity-10 rounded-circle p-3 mb-3">
        <i class="bi bi-bell fs-2 text-warning"></i>
      </div>
      <h6 class="card-title text-uppercase text-secondary mb-2">Notificaciones</h6>
      <p class="fw-bold fs-2 mb-3 text-warning"><%= @unread_notifications_count || 0 %></p>
      <%= link_to "Ver todas", notifications_path, class: "btn btn-warning btn-sm mt-auto" %>
    </div>
  </div>
</div>
<div class="col-12 col-md-6 col-lg-3">
  <div class="card dashboard-card shadow-sm border-0 h-100">
    <div class="card-body d-flex flex-column align-items-center text-center">
      <div class="dashboard-icon bg-danger bg-opacity-10 rounded-circle p-3 mb-3">
        <i class="bi bi-exclamation-triangle fs-2 text-danger"></i>
      </div>
      <h6 class="card-title text-uppercase text-secondary mb-2">Entregas vencidas</h6>
      <p class="fw-bold fs-2 mb-3 text-danger"><%= @overdue_deliveries_count || 0 %></p>
      <%= link_to "Ver vencidas", deliveries_path(q: {
        delivery_date_lt: Date.current.to_s,
        status_not_eq_all: [
          Delivery.statuses[:delivered],
          Delivery.statuses[:rescheduled],
          Delivery.statuses[:cancelled]
        ],
        order_seller_seller_code_eq: (current_user.seller.seller_code if current_user.seller?)}.compact),
        class: "btn btn-danger btn-sm mt-auto" %>
    </div>
  </div>
</div>